/**
 * Timeline
 * @define timeline
 */

// Import base
@import '@ecl/eu-base/eu-base';

@mixin ecl-timeline(
  $border-width: 0.25rem,
  $border-color: $ecl-color-yellow-100,
  $bullet-fill-color: $ecl-color-white-100,
  $bullet-border-color: $ecl-color-grey-100,
  $bullet-border-width: 0.25rem,
  $label-color: $ecl-color-grey-100,
  $content-color: $ecl-color-grey-100
) {
  .ecl-timeline {
    // Leave space for the bullets
    margin: 0 0 0 (($ecl-spacing-s / 2) + $bullet-border-width);
  }

  .ecl-timeline__list {
    border-left: $border-width solid $border-color;
    list-style: none;
    margin: 0;
    padding-left: 0;
  }

  .ecl-timeline__item {
    padding: $ecl-spacing-m 0 $ecl-spacing-m
      (
        $ecl-spacing-m + ($ecl-spacing-s / 2) + $bullet-border-width -
          $border-width
      );
    position: relative;

    &::before {
      background-color: $bullet-fill-color;
      border: $bullet-border-width solid $bullet-border-color;
      border-radius: 50%;
      content: '';
      height: $ecl-spacing-s;
      left: -($ecl-spacing-s);
      position: absolute;
      top: $ecl-spacing-m;
      width: $ecl-spacing-s;
    }
  }

  .ecl-timeline__label {
    color: $label-color;
    font: $ecl-font-m;
    font-weight: bold;
  }

  .ecl-timeline__content {
    color: $content-color;
    font: $ecl-font-prolonged-m;
    margin-top: $ecl-spacing-m;
  }

  .ecl-timeline__button {
    margin-top: $ecl-spacing-xl;

    .no-js & {
      display: none;
    }
  }

  /*
   * Manage collapse
   */
  .ecl-timeline__item--collapsed {
    display: none;

    .no-js & {
      display: block;
    }
  }

  .ecl-timeline__list[aria-expanded='true'] {
    .ecl-timeline__item--collapsed {
      display: block;
    }

    .ecl-timeline__button {
      display: none;
    }
  }
}

// Use mixin
@include exports('eu-component-timeline') {
  @include ecl-timeline();
}
